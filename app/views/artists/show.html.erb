
<% if @artist.id == nil %>
  <p>
    I'm sorry, we couldn't find that artist. Maybe a different spelling will do the trick...
  </p>
<% else %>
  <p>
    <strong>Name:</strong>
    <%= @artist.name %>
  </p>
  <p>
    Rating: <%= rating_for @artist, "overall", :star => 10, :enable_half => true, :half_show => true, :disable_after_rate => false, :cancel => true %>
  </p>
  <p>
    <strong>Biography:</strong>
    <%= simple_format(@artist.biography) %>
  </p>

  <p>
    <strong>Photo:</strong>
    <%= image_tag(@artist.photo)%>
  </p>

  <a class="twitter-timeline" href="https://twitter.com/<%= @artist.twitter %>" data-widget-id="603378251269038080" data-screen-name="<%= @artist.twitter %>">Tweets by @<% @artist.name %></a>

  <p>
    <strong>Genre:</strong>
    <%= @artist.genre %>
  </p>
  <p>
    <strong>Related Artists:</strong>
    <% arr = @artist.related_artist.split(", ") %>
    <% arr[0..3].each do |art| %>
    <% name = art.split.map(&:capitalize).join(' ') %>
      <% if Artist.exists?(name: name) %>
        <%= link_to art + ",", artist_path(Artist.find_by(name: name)) %>
      <% else %>
        <%= p name + "," %>
      <% end %>
    <% end %>
    <% name = arr[4].split.map(&:capitalize).join(' ') %>
    <% if Artist.exists?(name: arr[4]) %>
      <%= link_to art, artist_path(Artist.find_by(name: arr[4])) %>
    <% else %>
      <%= p arr[4] %>
    <% end %>
  </p>
  <% if current_user.try(:admin?) %>
    <%= link_to 'Edit', edit_artist_path(@artist) %> |
  <% end %>
  <%= link_to 'Back', artists_path %><br>

  <div class="fb-comments" data-href="http://localhost:3000/artists/<%= @artist.id %>" data-numposts="5" data-colorscheme="light"></div>
<% end %>
